create database iacsd_25;

#Doctor table
CREATE TABLE doctors (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50),
    speciality VARCHAR(100),
    email VARCHAR(30) UNIQUE,
    password VARCHAR(30),
    dob DATE 
);

#Patient Table
CREATE TABLE patients (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100),
    email VARCHAR(100) UNIQUE,
    password VARCHAR(30),
    phone VARCHAR(20) UNIQUE,
    dob DATE
);

#Appointment Table
CREATE TABLE appointments (
    id INT PRIMARY KEY AUTO_INCREMENT,
    doctor_id INT NOT NULL,
    patient_id INT NOT NULL,
    appointment_datetime TIMESTAMP NOT NULL,
    status VARCHAR(20) DEFAULT 'SCHEDULED'
    UNIQUE(doctor_id,  appointment_datetime), 
    FOREIGN KEY (doctor_id) REFERENCES doctors(id),
    FOREIGN KEY (patient_id) REFERENCES patients(id)
);


INSERT INTO doctors (name, speciality, email, password,dob) VALUES
('Dr. Anjali Sharma', 'Cardiology', 'anjali.sharma@example.in', 'password1','1990-10-20'),
('Dr. Rajesh Kumar', 'Dermatology', 'rajesh.kumar@example.in', 'password2','1991-11-20'),
('Dr. Priya Singh', 'Pediatrics', 'priya.singh@example.in', 'password3','1991-1-25'),
('Dr. Amit Verma', 'Orthopedics', 'amit.verma@example.in', 'password4','1993-10-20'),
('Dr. Sneha Reddy', 'Neurology', 'sneha.reddy@example.in', 'password5','1989-11-27');



INSERT INTO patients (name, email, password, phone,dob) VALUES
('Rohan Mehta', 'rohan.mehta@example.in', 'pass123', '9876543210','1999-11-27'),
('Neha Gupta', 'neha.gupta@example.in', 'pass456', '9876543211','1987-1-27'),
('Vikram Joshi', 'vikram.joshi@example.in', 'pass789', '9876543212','2001-11-27'),
('Aisha Khan', 'aisha.khan@example.in', 'pass101', '9876543213','1990-1-2'),
('Siddharth Rao', 'siddharth.rao@example.in', 'pass202', '9876543214','1994-11-27');


INSERT INTO appointments (doctor_id, patient_id, appointment_datetime) VALUES
# Dr. Anjali Sharma (Cardiology)
(1, 1, '2025-10-01 09:00:00'),
(1, 2, '2025-10-01 09:30:00'),
(1, 3, '2025-10-01 10:00:00'),

# Dr. Rajesh Kumar (Dermatology)
(2, 4, '2025-10-01 11:00:00'),
(2, 5, '2025-10-01 11:30:00'),

# Dr. Priya Singh (Pediatrics)
(3, 1, '2025-10-02 14:00:00'),
(3, 2, '2025-10-02 14:30:00'),

# Dr. Amit Verma (Orthopedics)
(4, 3, '2025-10-03 15:00:00'),
(4, 4, '2025-10-03 15:30:00'),

# Dr. Sneha Reddy (Neurology)
(5, 5, '2025-10-04 16:00:00'),
(5, 1, '2025-10-04 16:30:00');

